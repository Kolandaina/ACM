/*
5
RR'
F2B2
UUU
LDL'D'
R2F'UR'U2R2F'R'U2U'R2U'F2U'R'FR2U'R'URU'R'FU
*/
#include<bits/stdc++.h>
using namespace std;
int t,n,tmp0,tmp1,f[7][3][3];string s;
inline int read(){
	int r=0,f=1;char  c=getchar();
	while(!isdigit(c)){if(c=='-')f=-1;c=getchar();}
	while(isdigit(c))r=(r<<1)+(r<<3)+(c^48),c=getchar();
	return r*f;
}
inline string sread(){
	string s=" ";char c=getchar();
	while(c<='a'||c>'z')c=getchar();
	while(c<='z'&&c>='a')s+=c,c=getchar();
	return s;
}
int lowbit(int x){return x&(-x);}
signed main(){
	//freopen("E.in","r",stdin);
	//freopen("E.out","w",stdout);
	t=read();
	while(t--){
		cin>>s,n=s.size();
		for(int i=1;i<=6;i++)
			for(int j=1;j<=2;j++)
			for(int k=1;k<=2;k++)f[i][j][k]=i;
		for(int i=0;i<n;i++){
			if(s[i]<='Z'&&s[i]>='A'){
				
				int tr=1;
				if(i<n-1&&(s[i+1]>'Z'||s[i+1]<'A')){
					if(s[i+1]==39)tr=3;
					else if(s[i+1]=='2')tr=2;
				}
		//		cout<<s[i]<<" "<<tr<<endl;
				
	/*	for(int i=1;i<=6;i++){
			for(int j=1;j<=2;j++,putchar('\n'))
			for(int k=1;k<=2;k++)cout<<f[i][j][k]<<" ";
			cout<<endl;
		}*/
				if(s[i]=='L'){
					if(tr==1){
						tmp0=f[1][1][1];
						tmp1=f[1][2][1];
						f[1][1][1]=f[6][1][1];
						f[1][2][1]=f[6][2][1];
						f[6][1][1]=f[3][1][1];
						f[6][2][1]=f[3][2][1];
						f[3][1][1]=f[5][1][1];
						f[3][2][1]=f[5][2][1];
						f[5][1][1]=tmp0;
						f[5][2][1]=tmp1;
						tmp0=f[2][1][1];
						f[2][1][1]=f[2][2][1];
						f[2][2][1]=f[2][2][2];
						f[2][2][2]=f[2][1][2];
						f[2][1][2]=tmp0;
					}
					if(tr==2){
						tmp0=f[1][1][1];
						tmp1=f[1][2][1];
						f[1][1][1]=f[3][1][1];
						f[1][2][1]=f[3][2][1];
						f[3][1][1]=tmp0;
						f[3][2][1]=tmp1;
						tmp0=f[5][1][1];
						tmp1=f[5][2][1];
						f[5][1][1]=f[6][1][1];
						f[5][2][1]=f[6][2][1];
						f[6][1][1]=tmp0;
						f[6][2][1]=tmp1;
						tmp0=f[2][1][1];
						tmp1=f[2][1][2];
						f[2][1][2]=f[2][2][1];
						f[2][1][1]=f[2][2][2];
						f[2][2][2]=tmp0;
						f[2][2][1]=tmp1;
					}
					if(tr==3){
						tmp0=f[1][1][1];
						tmp1=f[1][2][1];
						f[1][1][1]=f[5][1][1];
						f[1][2][1]=f[5][2][1];
						f[5][1][1]=f[3][1][1];
						f[5][2][1]=f[3][2][1];
						f[3][1][1]=f[6][1][1];
						f[3][2][1]=f[6][2][1];
						f[6][1][1]=tmp0;
						f[6][2][1]=tmp1;
						tmp0=f[2][1][1];
						f[2][1][1]=f[2][1][2];
						f[2][1][2]=f[2][2][2];
						f[2][2][2]=f[2][2][1];
						f[2][2][1]=tmp0;
					}
				}
				if(s[i]=='R'){
					if(tr==1){
						tmp0=f[1][1][2];
						tmp1=f[1][2][2];
						f[1][1][2]=f[6][1][2];
						f[1][2][2]=f[6][2][2];
						f[6][1][2]=f[3][1][2];
						f[6][2][2]=f[3][2][2];
						f[3][1][2]=f[5][1][2];
						f[3][2][2]=f[5][2][2];
						f[5][1][2]=tmp0;
						f[5][2][2]=tmp1;
						tmp0=f[4][1][1];
						f[4][1][1]=f[4][2][1];
						f[4][2][1]=f[4][2][2];
						f[4][2][2]=f[4][1][2];
						f[4][1][2]=tmp0;
					}
					if(tr==2){
						tmp0=f[1][1][2];
						tmp1=f[1][2][2];
						f[1][1][2]=f[3][1][2];
						f[1][2][2]=f[3][2][2];
						f[3][1][2]=tmp0;
						f[3][2][2]=tmp1;
						tmp0=f[5][1][2];
						tmp1=f[5][2][2];
						f[5][1][2]=f[6][1][2];
						f[5][2][2]=f[6][2][2];
						f[6][1][2]=tmp0;
						f[6][2][2]=tmp1;
						tmp0=f[4][1][1];
						tmp1=f[4][1][2];
						f[4][1][2]=f[4][2][1];
						f[4][1][1]=f[4][2][2];
						f[4][2][2]=tmp0;
						f[4][2][1]=tmp1;
					}
					if(tr==3){
						tmp0=f[1][1][2];
						tmp1=f[1][2][2];
						f[1][1][2]=f[5][1][2];
						f[1][2][2]=f[5][2][2];
						f[5][1][2]=f[3][1][2];
						f[5][2][2]=f[3][2][2];
						f[3][1][2]=f[6][1][2];
						f[3][2][2]=f[6][2][2];
						f[6][1][2]=tmp0;
						f[6][2][2]=tmp1;
						tmp0=f[4][1][1];
						f[4][1][1]=f[4][1][2];
						f[4][1][2]=f[4][2][2];
						f[4][2][2]=f[4][2][1];
						f[4][2][1]=tmp0;
					}
				}
				if(s[i]=='F'){
					if(tr==1){
						tmp0=f[2][1][1];
						tmp1=f[2][2][1];
						f[2][1][1]=f[6][1][1];
						f[2][2][1]=f[6][1][2];
						f[6][1][1]=f[4][2][1];
						f[6][1][2]=f[4][1][1];
						f[4][2][1]=f[5][2][2];
						f[4][1][1]=f[5][2][1];
						f[5][2][2]=tmp0;
						f[5][2][1]=tmp1;
						tmp0=f[1][1][1];
						f[1][1][1]=f[1][2][1];
						f[1][2][1]=f[1][2][2];
						f[1][2][2]=f[1][1][2];
						f[1][1][2]=tmp0;
					}
					if(tr==2){
						tmp0=f[6][1][1];
						tmp1=f[6][1][2];
						f[6][1][1]=f[5][2][2];
						f[6][1][2]=f[5][2][1];
						f[5][2][2]=tmp0;
						f[5][2][1]=tmp1;
						tmp0=f[4][2][1];
						tmp1=f[4][1][1];
						f[4][2][1]=f[2][1][1];
						f[4][1][1]=f[2][2][1];
						f[2][1][1]=tmp0;
						f[2][2][1]=tmp1;
						tmp0=f[1][1][1];
						f[1][1][1]=f[1][2][2];
						f[1][2][2]=tmp0;
						tmp0=f[1][1][2];
						f[1][1][2]=f[1][2][1];
						f[1][2][1]=tmp0;
					}
					if(tr==3){
						tmp0=f[2][1][1];
						tmp1=f[2][2][1];
						f[2][1][1]=f[5][2][2];
						f[2][2][1]=f[5][2][1];
						f[5][2][2]=f[4][2][1];
						f[5][2][1]=f[4][1][1];
						f[4][2][1]=f[6][1][1];
						f[4][1][1]=f[6][1][2];
						f[6][1][1]=tmp0;
						f[6][1][2]=tmp1;
						tmp0=f[1][1][1];
						f[1][1][1]=f[1][1][2];
						f[1][1][2]=f[1][2][2];
						f[1][2][2]=f[1][2][1];
						f[1][2][1]=tmp0;
					}
				}
				if(s[i]=='B'){
					if(tr==1){
						tmp0=f[2][1][2];
						tmp1=f[2][2][2];
						f[2][1][2]=f[6][2][1];
						f[2][2][2]=f[6][2][2];
						f[6][2][1]=f[4][2][2];
						f[6][2][2]=f[4][1][2];
						f[4][2][2]=f[5][1][2];
						f[4][1][2]=f[5][1][1];
						f[5][1][2]=tmp0;
						f[5][1][1]=tmp1;
						tmp0=f[3][2][1];
						f[3][2][1]=f[3][1][1];
						f[3][1][1]=f[3][1][2];
						f[3][1][2]=f[3][2][2];
						f[3][2][2]=tmp0;
					}
					if(tr==2){
						tmp0=f[6][2][1];
						tmp1=f[6][2][2];
						f[6][2][1]=f[5][1][2];
						f[6][2][2]=f[5][1][1];
						f[5][1][2]=tmp0;
						f[5][1][1]=tmp1;
						tmp0=f[4][2][2];
						tmp1=f[4][1][2];
						f[4][2][2]=f[2][1][2];
						f[4][1][2]=f[2][2][2];
						f[2][1][2]=tmp0;
						f[2][2][2]=tmp1;
						tmp0=f[3][1][1];
						f[3][1][1]=f[3][2][2];
						f[3][2][2]=tmp0;
						tmp0=f[3][1][2];
						f[3][1][2]=f[3][2][1];
						f[3][2][1]=tmp0;
					}
					if(tr==3){
						tmp0=f[2][1][2];
						tmp1=f[2][2][2];
						f[2][1][2]=f[5][1][2];
						f[2][2][2]=f[5][1][1];
						f[5][1][2]=f[4][2][2];
						f[5][1][1]=f[4][1][2];
						f[4][2][2]=f[6][2][1];
						f[4][1][2]=f[6][2][2];
						f[6][2][1]=tmp0;
						f[6][2][2]=tmp1;
						tmp0=f[3][1][1];
						f[3][1][1]=f[3][2][1];
						f[3][2][1]=f[3][2][2];
						f[3][2][2]=f[3][1][2];
						f[3][1][2]=tmp0;
					}
				}
				if(s[i]=='U'){
					if(tr==1){
						tmp0=f[1][1][1];
						tmp1=f[1][1][2];
						f[1][1][1]=f[4][1][1];
						f[1][1][2]=f[4][1][2];
						f[4][1][1]=f[3][2][2];
						f[4][1][2]=f[3][2][1];
						f[3][2][2]=f[2][1][2];
						f[3][2][1]=f[2][1][1];
						f[2][1][2]=tmp0;
						f[2][1][1]=tmp1;
						tmp0=f[5][1][1];
						f[5][1][1]=f[5][2][1];
						f[5][2][1]=f[5][2][2];
						f[5][2][2]=f[5][1][2];
						f[5][1][2]=tmp0;
					}
					if(tr==2){
						tmp0=f[1][1][1];
						tmp1=f[1][1][2];
						f[1][1][1]=f[3][2][2];
						f[1][1][2]=f[3][2][1];
						f[3][2][2]=tmp0;
						f[3][2][1]=tmp1;
						tmp0=f[4][1][1];
						tmp1=f[4][1][2];
						f[4][1][1]=f[2][1][2];
						f[4][1][2]=f[2][1][1];
						f[2][1][2]=tmp0;
						f[2][1][1]=tmp1;
						tmp0=f[5][1][1];
						f[5][1][1]=f[5][2][2];
						f[5][2][2]=tmp0;
						tmp0=f[5][1][2];
						f[5][1][2]=f[5][2][1];
						f[5][2][1]=tmp0;
					}
					if(tr==3){
						tmp0=f[4][1][1];
						tmp1=f[4][1][2];
						f[4][1][1]=f[1][1][1];
						f[4][1][2]=f[1][1][2];
						f[1][1][1]=f[2][1][2];
						f[1][1][2]=f[2][1][1];
						f[2][1][2]=f[3][2][2];
						f[2][1][1]=f[3][2][1];
						f[3][2][2]=tmp0;
						f[3][2][1]=tmp1;
						tmp0=f[5][1][1];
						f[5][1][1]=f[5][1][2];
						f[5][1][2]=f[5][2][2];
						f[5][2][2]=f[5][2][1];
						f[5][2][1]=tmp0;
					}
				}
				if(s[i]=='D'){
					if(tr==1){
						tmp0=f[1][2][1];
						tmp1=f[1][2][2];
						f[1][2][1]=f[4][2][1];
						f[1][2][2]=f[4][2][2];
						f[4][2][1]=f[3][1][2];
						f[4][2][2]=f[3][1][1];
						f[3][1][2]=f[2][2][2];
						f[3][1][1]=f[2][2][1];
						f[2][2][2]=tmp0;
						f[2][2][1]=tmp1;
						tmp0=f[6][1][1];
						f[6][1][1]=f[6][1][2];
						f[6][1][2]=f[6][2][2];
						f[6][2][2]=f[6][2][1];
						f[6][2][1]=tmp0;
					}
					if(tr==2){
						tmp0=f[1][2][1];
						tmp1=f[1][2][2];
						f[1][2][1]=f[3][1][2];
						f[1][2][2]=f[3][1][1];
						f[3][1][2]=tmp0;
						f[3][1][1]=tmp1;
						tmp0=f[4][2][1];
						tmp1=f[4][2][2];
						f[4][2][1]=f[2][2][2];
						f[4][2][2]=f[2][2][1];
						f[2][2][2]=tmp0;
						f[2][2][1]=tmp1;
						tmp0=f[6][1][1];
						f[6][1][1]=f[6][2][2];
						f[6][2][2]=tmp0;
						tmp0=f[6][1][2];
						f[6][1][2]=f[6][2][1];
						f[6][2][1]=tmp0;
					}
					if(tr==3){
						tmp0=f[4][2][1];
						tmp1=f[4][2][2];
						f[4][2][1]=f[1][2][1];
						f[4][2][2]=f[1][2][2];
						f[1][2][1]=f[2][2][2];
						f[1][2][2]=f[2][2][1];
						f[2][2][2]=f[3][1][2];
						f[2][2][1]=f[3][1][1];
						f[3][1][2]=tmp0;
						f[3][1][1]=tmp1;
						tmp0=f[6][1][1];
						f[6][1][1]=f[6][2][1];
						f[6][2][1]=f[6][2][2];
						f[6][2][2]=f[6][1][2];
						f[6][1][2]=tmp0;
					}
				}
			}
		}
	/*	for(int i=1;i<=6;i++){
			for(int j=1;j<=2;j++,putchar('\n'))
			for(int k=1;k<=2;k++)cout<<f[i][j][k]<<" ";
			cout<<endl;
		}*/
		int pd=0;
		for(int i=1;i<=6;i++){
			int tmp0=f[i][1][1];
			for(int j=1;j<=2;j++)
			for(int k=1;k<=2;k++)if(f[i][j][k]!=tmp0){pd=1;break;}
			if(pd)break;
		}
		if(!pd)puts("YES");
		else puts("NO");
	}
	return 0;
}

