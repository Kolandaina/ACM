# v8 大版本

### 8.4（2023.11.03定稿修改：ICPC南京区域赛）

2023.11.02

- 《OJ测试》重构代码。

2023.11.01

- 《线段树》重构代码，新增若干个小章节。

2023.10.28

- 《常用函数》新增“mysqrt”。

2023.10.24

- 《常见数列》新增“因数最多数字与其因数数量”小章节。

2023.10.23

- 《树状数组》”前驱后继“小章节错误修正，使用 [洛谷模板题](https://www.luogu.com.cn/problem/P3369) 做测试。
- 《 vector 模拟实现平衡二叉树》新增。

2023.10.22

- **重要更新**——《数据结构 - 树状数组》：重构，新增若干小章节。

## 8.3（2023.10.15定稿修改：ICPC西安区域赛）

2023.10.15（前几日更新汇总）

- 《组合数》新增“杨辉三角（精确计算）”和“debug”小章节。
- 《取模类》重构代码。
- 《pb_ds 库头文件》新增。
- 《编译器设置》新增。
- 《线段树》新增“完整长封装”小章节。
- 《手工哈希》代码重构。
- 《Python常用语法》新增“增加输出流长度”小章节。
- *Github版本更新*。

2023.10.13

- 《KMP》新增“统计原串中某个子串重复出现的次数（例题）”小章节。
- 《字符串哈希》重构。

2023.10.12

- 《图论：概念》新增“平面图”的概念。

- 《判定带环图是否是平面图》新增例题。

2023.10.11

- 《一般图最大匹配（带花树算法）》替换成了一个更短的版本；
- 《一般图最大权匹配（带权带花树算法）》新增。

2023.10.10

- **重要更新**：《一般式转两点式》计算错误，已修正；
- **重要更新**：《两直线是否相同》缺少一个特判，已补充。

2023.10.09

- 《最长严格/非严格递增子序列 (LIS)》：重构代码，新增二维内容。
- 《对拍版子》：重构代码。

2023.10.07

- 《幻方》新增。

2023.10.02

- 《阿达马矩阵 (Hadamard matrix)》新增。

2023.09.29

- 《SCC (Tarjan)》：重构代码。
- 《EDCC (Tarjan)》：删去了原先链式前向星的版本，现在使用的是 Jiangly 的改版。
- 《费用流》：略微修改。

2023.09.27

- *首次全文上传Github，适配格式*。

## 8.2（2023.09.22定稿修改：ICPC预选赛#2）

2023.09.22

- 《费用流》：增加注释。
- 《库实数类实现（双精度）》：新增。
- 《读取一行数字，个数未知》：新增。
  
  2023.09.20
- 《组合数 - 逆元+卢卡斯定理》：重新封装。
- 《位运算函数 \__builtin\_》更新。
- 《取模类》修正。
  - `mypow` 函数由于 `long long` 的关闭而不可用，该版本直接去除了不常用的 `++(int)` 操作，使得可以使用 `define int long long`，进而不需要进行大幅修改。
  - 增加了一个计算 $2$ 的幂次的函数 `power`；
  - `norm` 函数去除了原先的取模，`operator` 部分增加了 `const`，函数前增加了 `constexpr`，使得速度更快。

2023.09.16

- 《防爆模乘》更新了一个算起来更快的版本；
- 《MR+PR》简化了代码，略微优化了常数。

2023.09.15

- 《树上路径交》新增。

## 8.1（2023.09.15定稿打印：ICPC预选赛#1）

2023.09.15

- 重新整理格式

2023.09.14

- 《Python常用语法》新增。

2023.09.13（前几日更新汇总）

- 《Z函数（扩展 KMP）》新增；
- 《2-Sat》新增；
- 《Zmod》新增 `++` 相关四个操作；
- 《字符串哈希》封装并增加一个例题；
- 《几何》大章重新编写。

2023.09.08

- 《图论 - 欧拉路径/欧拉回路 Hierholzers》：重构。

2023.09.07

- 《网络流 - 预流推进》：新增

2023.08.27

- 《数据结构 - 普通莫队》：新增了一点注释，和另外一个版本的写法，因为写 [该题](https://codeforces.com/contest/576/problem/C) 时发生了RE。

2023.08.25

- 《数论 - 分数四则运算》：删除，重新封装到《数据结构 - 分数运算类》。

2023.08.24

- 《数论 - 分数四则运算》：原先的版本无法判定负数，现已修改，问题发现源自 [该题](https://codeforces.com/contest/552/problem/D) 。

## 8.0version（2023.08.17定稿打印：CCPC预选赛）

2023.08.09

- 重构大部分代码。

***

# v7 大版本

## 7.3version：修改/新增（2023.08.08定稿：整理准备）

2023.08.09

- 《基础算法》：将“三分”从杂类移过来了，新增了“整数域三分”，同时进行了修改；
- 《基础算法 - 二分》：进行了修改。

2023.08.06

- 《树论 - 点分治 / 树的重心》：更新，使用了新的例题。

2023.08.02

- 《几何 - 模板组》：重大更新，重新整理了原先的模板，增加了注释和来源；
  - 同时更新了“计算两线段交点”、“计算两直线交点”；
  - 新增过多内容，不予统计。

2023.08.01

- 《几何 - 模板组》：新增点到线段、点到直线的距离。

2023.07.31

- 《图论 - 二分图最大匹配》：重构了匈牙利算法的代码、新增了HopcroftKarp算法的写法。问题发现源自[牛客多校](https://ac.nowcoder.com/acm/contest/57359/C)，原封装时间复杂度不够导致超时。

2023.07.30

- 《数据结构》：二维树状数组（树状数组套树状数组）。

2023.07.29

- ==对离散化、坐标压缩进行了封装，目前还在测试，暂不加入==。

2023.07.28

- **重要更新，修复7.19的问题——**《数据结构 - DSU》：此前一次封装写错了一句，`p.resize(n + 1, 1);` 初始值未赋 $1$ ，这次发现错误了，加以了修改。

2023.07.27

- 《数论》：“$\tt{}Miller-Rabin$ 素数测试”、“$\tt{}Pollard - Rho$ 因式分解”修改为更快速的版本，此前的效率较低。问题发现源自[杭电多校](https://acm.hdu.edu.cn/showproblem.php?pid=7318)，原封装时间复杂度不够导致超时。

2023.07.26

- 《STL》：set部分新增 `prev` 和 `next` 函数的简介、新增array的用法。
- 《数据结构》：“普通莫队”、“带修莫队”重构代码。
- 新增《数据结构结论整理》专题，新增“区间偏移问题”。
- 《数据结构 - 线段树》：封装略微修改（数组传递、bug修复）。

2023.07.24

- 《图论 - 有向图强连通分量缩点：$\tt{}Tarjan$ 处理 $\tt SCC$》重新封装，源自Jiangly。
- 《几何 - 模板组》：新增“一般式转换为两点式”、“两直线交点”。
- 《杂类 - 最长严格/非严格递增子序列》：新增 。

2023.07.22

- 《图论 - djikstra》：重新封装。
- 《STL》：新增“字符串转数字”、“数字转字符串”。

2023.07.20

- 《数论 - 欧拉筛》：重新封装。

2023.07.19

- 重新封装了以下内容：《树状数组BIT》、《并查集DSU》、《几何模板组Geo》、《快读Quickread》、《线段树SEGT》。
- 《杂类 - 随机数生成与样例构造》：新增。
- 《杂类 - 对拍板子》：由于样例构造独立出去了，所以一并修改了这一块的内容。
- 《几何 - 计算凸包上的点能构成的最大三角形的面积》：新增，源自牛客多校的典题。
- 《数论 - 扩展欧几里得》：修改，源自牛客多校的题。

2023.07.16

- 《常用例题 - 浮点数比较》：新增。

2023.07.14

- 《数据结构 - 线段树》：针对本月10号修改产生的问题进行修正。

2023.07.10

- **重要更新**——《数据结构 - 树状数组》：原先的定义中 `this -> n = n + 1` ，会导致数组溢出，现在已修复为 `this -> n = n` 。此前好像注意到过这个问题，但是没有进行修改……除此之外，还将类名修改为 `Bit` ，方便记忆。
- 《数据结构 - 线段树》：使用动态数组封装。

2023.07.09

- **重要更新**——《基础算法》：原先使用了 `ceil` 函数的上整除算法在面对大数据的情况下可能导致精度丢失出现错误，现在已经修改 [发现这一错误的题目](https://codeforces.com/contest/1303/problem/B) 。

2023.07.06

- 《树论》修改：优化求直径部分代码。

2023.07.01

- 《图论》新增：无源汇点的最小割问题：$\tt Stoer–Wagner$ 。
- 《网络流》更新：最大流定义补充，更名为“有源汇点的最大流最小割问题”，区别于无源汇的最小割问题。
- 《图论结论》新增：$\tt Prüfer$ 序列的一些推论。

2023.06.23

- 《数据结构》：更新线段树代码、更新ST表简介。

2023.06.17

- 《树论》：修复本月13号修改的倍增求LCA中的 `query` 函数写的不完整的问题。

2023.06.13

- 《树论》更新：倍增求LCA，改进了封装（优化了重构函数、去掉了预处理函数、新增两点间距离函数）

2023.06.12

- 《树论》新增：点分治。
- 《数据结构》新增：平衡二叉树。

2023.06.10 自更新

- 将《树论》中的数据结构全部转移到《数据结构》中。

2023.06.10

 统一更新Hamine的模板（上一次更新是在7.1version）

> 《多项式与几何》新增：拉格朗日插值。
> 
> 《数据结构》新增：珂朵莉树。修改：主席树、DSU、树状数组。
> 
> 《字符串》修改：AC自动机、SAM、PAM、KMP。
> 
> 《几何》新增：大类模板。
> 
> 《树论》修改：将原先的直径、重心、中心合并封装；树剖LCA；轻重链剖分。新增：树上启发式合并。

2023.06.09

- 《杂项》新增：$\tt \_\_int128$ 的流输入与流输出。
- 《几何》将结论部分内容分为平面几何与立体几何。
- 《杂类》新增：OJ测试一章。

2023.06.04

- 《多项式与几何》新增：叉乘计算三角形面积、INF。并完善了之前的一些语法小问题。
- **重要更新**——《网络流》：费用流模板新增多组测试清空，新增注释代码，现在基本可以即拿即用了。

2023.06.02

- **重要更新**——修改了《多项式与几何》中的“距离公式”板子，去掉了多余的函数，修改了变量类型为 `template` 。

## 7.2version：修改/新增（2023.05.21定稿：湘潭邀请赛使用）

2023.05.17

- 修改了《最小生成树》的代码（使用 `tuple` 替换了原来的手写结构体，原因在于原来的重载符号可能会导致CE），现在其逻辑与 $\tt djikstra$ 基本一致。
- 在《倍增求 $\tt LCA$ 》中新增了“倍增查询两点路径上的最大边权”的函数。

2023.05.08

- 初步修改了《网络流》中费用流的板子（这好像是我第一次做cf网络流题，之后做的多了应该还会改）

2023.05.04

- 修改了《杂类》中大整数类的读入函数，现在和快读封装到一起了。

## 7.1version：修改/新增（2023.04.14定稿：浙江省赛使用）

2023.04.13

- 几何模板里面 `clac` 函数变量顺序太逆天了，现在改的正常一些了。
- 树论求LCA：进行了封装，并且代码格式化。

2023.04.05

- 《多项式与几何》新增一些几何常用公式，新增几何常用代码（来自自用模板中的几何部分）；
- 线段树 `GL` 和 `GR` 定义加了个括号（不加的话，可能会出现优先级问题）；

2023.03.30

- 根据自用模板中的几何部分，新增了几个函数。

2023.03.28

- 新增了树状数组封装，暂时放在**自用模板**里。

## 7.0version：修改/新增（2023.03.10定稿：校赛前最后一个版本））

2023.03.10（校赛前最后一个版本）

- 根据黄文豪的代码重构了ST表，之前的太老的直接删掉了；
- 去除了《数据结构》中多余的字典树内容，更新了《串》中的字典树代码（来自黄文豪）；
- 《数论》新增莫比乌斯函数/反演、整除（数论）分块（来自黄文豪）；
- 《数论》欧拉函数补充；
- 《网络流》新增最小割、费用流。

2023.02.27

- 《数论》使用数据结构重构欧拉筛的代码，确保移植性。

2023.02.26

- 《图论》原先的最小环代码是错误的（今天做到题发现不能用），按照oi-wiki上的板子进行了修改，现在保证是可用的了。

2023.01.27

- 《图论》新增最短路径树 $\tt SPT$ 的代码。

2023.01.25

- 最小生成树的板子重新编写了，现在把并查集部分独立开来了。

***

# v6.0 及更早的大版本

## 6.0version（2022.11定稿：2022赛季使用）

2022.09.10

> 《串与数据结构》新增“后缀自动机 $\tt SAM$ 。
> 
> 《数论》新增”分数四则运算“”矩阵四则运算“”斐波那契数列““线性基”“离散对数 $\tt BSGS$ 与 $\tt exBSGS$ ”“ $\tt MIN\ 25$ 筛”"一个可能更快的 $\tt MR+PR$ "；
新增“防爆模乘”，整合了原来的“慢速乘”，多加了一个“借助 `int128` ”；
新增“组合数学”，整合了原来的两个求解组合数的方法，多加了一个“常用性质与结论”“复杂结论”“范德蒙德卷积公式”。
> 
> 《多项式与几何》新增“多项式结论归档”“快速数论变换 $\tt NTT$ ”“快速傅里叶变换 $\tt FFT$ ”。
> 
> 《杂类》新增“约瑟夫问题“”日期换算（基姆拉尔森公式）”“单调队列”。
> 
> 《图论》新增“最小环”。

2022.09.02

> 新增《STL与数据库》大章，重构了原来的《STL整理》，并且新增了一些库函数的使用方法。
> 
> 《树论与相关数据结构》将《图论》《数据结构》有关内容整合进来了；
”线段树“一节整合原《数据结构》的”扫描线：面积并“”扫描线：周长并“
”线段树“一节新增”二维线段树：矩形树“；
”树的直径“一节整合原《图论》的”树的直径“
> 
> 《图论》一节新增”* $\tt LCA$ 离线 $\tt Tarjan$ ““第 $K$ 短路””最小生成树特殊建图：$\tt Boruvka$ “”最小瓶颈路“”最小生成树：瓶颈生成树“”最小生成树：最小生成树计数“。
”多源汇最短路 $\tt APSP$ “新增”$\tt Johnson$ 解“”无向正权图的偏心距、半径、中心、直径“
> 
> 《数论》
修改了” $\tt{}Miller-Rabin$ 素数测试“：对于不同大小的数字采取不同的测试方式，减少测试轮数。
新增”试除法判是否是质数“。
”康托展开“新增”正向展开树状数组解“。
> 
> 《几何》
新增”判断线段是否相交：快速排斥+跨立实验“。
> 
> 重构《动态规划》章
> 
> 新增《杂类》大章，包括《三分》《读入优化 fread》《大整数类 __int128》

2022.08.31

> 《图论》修改了“最小生成树“：由于封装集成了并查集板子，所以将原来 `Kruskal` 里面散装的 `merge` 去掉了。
> 
> 《数据结构》修改了”并查集“：原来的封装没有考虑到结构体封装的特色——多次定义，而将数组写在外面，这样当需要定义两个不同的并查集时用的是同一个数组；新封装直接抄的jls的板子。
> 
> 《数论》
修改了”球盒模型“公式：之前的组合数上下写反了。
”逆元“新增”快速幂解“”线性递推解“；
新增”裴蜀定理“、”扩展欧几里得 $\tt exgcd$ “、”容斥原理“。
> 
> *新增《树论与相关数据结构》大章，包括：”树的重心“”树的直径“”最近公共祖先 $\tt LCA$ “"线段树""主席树（可持久化线段树）""树状数组""轻重链剖分/树链剖分"。
> 
> *《串》新增”字符串哈希：输出不同的字符串个数“"字典树 $\tt Trie$ 树"" $\tt AC$ 自动机""回文自动机 / 回文树 $\tt PAM$ "。
> 
> *《图论》新增”欧拉（回）路“”差分约束“。
> 
> *《基础算法》新增”自定义开根号“”唯一化数组（ $\tt erase + unique$ ）“。

2022.08.30

> 《图论》修改了“最小生成树：稀疏图”封装：将原来的结构体数组替换成优先队列，这样可以直接进行排序，且方便统计边的数量。

2022.08.29

> 《图论》更新“链式前向星”“ $\tt BFS$ ”“最小生成树：稠密图”的代码，重写并封装“最小生成树：稀疏图”（与并查集板子一起封装起来了）；

2022.08.27

> 《数据结构》修改“莫队”代码的不足（四个转移函数变为先两个 `add` ，再 `del` ，这样可以避免原来先减成负数再将负数作为下标使用导致的越界。

2022.08.26

> 《数据结构》修改“普通莫队”代码的错误，新增“带修改的莫队（带时间维度的莫队）”，补充“并查集”数组的定义、初始化调用的举例。

2022.08.23

> 《常用例题》新增“德州扑克”，“$N*M$ 数独字典序最小方案”。

2022.08.20

> 《数据结构》新增”普通莫队“。
> 
> 重写《基础算法》”快速幂“（改底数为 `LL` ，且预置模数 `p=MOD` ），重写《数论》”求解组合数1“并封装（新写法来自牛客比赛前Rk10的板子，效率比原版本高很多）。
> 
> 修改了《数论》”大整数类 $\tt Z$ “的快速幂函数，重命名为 $\tt Zpow$ （去掉了原来的取模部分，并且增加了注释），**因为之前乱用这个快速幂取代一般的快速幂，导致取模参数加与不加一直记混，而且因为读入变量类型是** $\tt T$ **，所以时常有直接代入** $\tt int$ **型、以为是** $\tt LL$ **而直接计算导致爆零的问题**（正确的用法是先转换为 $\tt LL$ 或者 $\tt Z$ 再计算）。
**同时修改了** `>>` **重定义无法正确读入** $\tt LL$ **型的重大bug（新写法来自jls的新写法）；**
增加了组合数的 $\tt Zmod$ 算法（使用的是今天新更新封装的版本）。

2022.08.18

> 封装《图论》“链式前向星”，替换”正权稀疏图最短路“为封装好的”带重构的正权稀疏图最短路“。
> 
> 《图论》新增”最长路“封装，” $\tt Tarjan$ 缩点“封装。

2022.08.17

> 《数论》重写了” $\tt{}Miller-Rabin$ 素数测试“为封装，新增” $\tt{}Pollard - Rho$ 因式分解“封装。

## 5.3版本

2022.07.18

> 《数论》“大整数类 $\tt Z$ ”增加比较函数（ `==` 和 `!=` ）

2022.07.15

> 将《数论》中“自动取模机”重新命名为“大整数类 $\tt Z$ ”；
**同时修改了** $\tt norm$ **函数中** $\tt int$ **型溢出的重大bug**；
去除了 `using ll = long long` 行，转而直接使用宏定义 `#define LL long long` （保证了代码风格的一致性，但是正确性还尚待验证）；
增加了前置 `++` 和 `--` 的重定义。

## 5.2版本

2022.05.25

> 《数据结构》调整顺序。

2022.04.28

> 《动态规划》重新整理编写。

2022.04.17

> 《基础算法》增加了 $\tt{}cout$ 的浮点数精度控制，增加了精度变量 $\tt{}ESP$ ，增加了浮点数的相等判断函数；
> 
> 修正了《动态规划》”完全背包“模板中的代码错误。

2022.04.16

> 《图论》整理新增 $\tt{}Tarjan$ 相关的三个算法（割点割边、最大强连通分量、缩点）；
> 
> 单独分出一章《博弈论》。

2022.04.15

> 新增《几何》，增加了“凸包：
> 
> 《数论》增加了”扩展欧几里得、逆元“，”同余方程组、拓展中国剩余定理“；
> 
> 《图论》调整顺序；

2022.04.08 

> 进行了代码格式化；
> 
> 移除《基础算法》中“加减法取模”，使用自动取模结构体替代；
> 
> 移除 《图论》中“ $\tt{}DFS$ ”计算划分连通块，使用“并查集划分连通块”替代（原因：会被构造数据卡的栈溢出，导致段错误）；

2022.03.12

> 《图论》增加

## 更早的版本

更新日记：

2022.02.04 （寒假图论专题学习）依照近日码风优化了BFS与Djikstra的版子，并新增了部分注释。

2022.01.22 （冬令营）修正了球盒模型中的代码错误，并优化了公式。

2021.12.3 （ICPC南京站前夕）新增了球盒模型八讲，修改了头文件版子（分成必备+常用函数两块），修改了详细头文件的排版，修改了全文的大于小于号输出出错问题

2021.11.30 （ICPC南京站前夕）新增了DFS染色连通块

2021.11.13 （ICPC济南站前夕）新增了海量内容

2021.11.12 （ICPC济南站前夕）重新整理并新增背包内容

2021.11.9 （ICPC济南站前夕）新增了树上图上DFS和BFS的内容

2021.11.1 修改了万能头文件部分的版子

2021.9.24 成文
